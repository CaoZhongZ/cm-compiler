#include <cm/cm.h>

_GENX_MAIN_
void test() {
}

// We check that the Finalizer is run with -noscalarjmp if and only if the
// -mCM_enable_eufusion option is specified, and that the expected files are
// generated by deleting them (leaving things tidy)

// RUN: %cmc -Qxcm_jit_target=tgl -mCM_enable_eufusion %w 2>&1 | FileCheck --check-prefix=FUSION_ON1 %w
// RUN: rm %W.isa %W_0.visaasm %W_0.asm %W_0.dat

// RUN: %cmc -Qxcm_jit_target=tgl /mCM_enable_eufusion %w 2>&1 | FileCheck --check-prefix=FUSION_ON2 %w
// RUN: rm %W.isa %W_0.visaasm %W_0.asm %W_0.dat

// FUSION_ON1: -noScalarJmp__
// FUSION_ON2: -noScalarJmp__
// XFAIL: *
